{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-05T01:57:32.250Z",
  "summary": "Diff adds a dedicated Sleep Performance pillar with new routes/pages (dashboard, check-in, analysis, action), local-only storage + computations (sleep debt/readiness/risks), tactical mode selection persisted locally, caffeine logging/clearance guidance, optional pain/stress inputs with tailored guidance, and command-safe education tiles with copy/share UI. Diff also includes multiple unrelated changes (queries/onboarding/public landing/groups/missions/admin) not requested by this BuildRequest.",
  "missing_requirements": [],
  "hallucinated_features": [
    {
      "description": "Changes/additions to backend-dependent Groups/Squads features (squad management pages, shared entries, invite code management, reporting).",
      "reason": "BuildRequest non-goals explicitly exclude implementing/fixing backend groups/squads/shared entries/admin moderation functionality; these changes are outside the Sleep Performance scope described.",
      "evidence": [
        "frontend-file-summaries.txt (Squads.tsx, SquadSharedEntries.tsx, invite code utils, report dialog, groups-related pages)"
      ]
    },
    {
      "description": "Public landing page with Internet Identity sign-in flow adjustments.",
      "reason": "BuildRequest focuses on Sleep Performance and explicitly states Sleep Performance must not require Internet Identity; public landing/II sign-in updates are not requested as part of the Sleep Performance pillar work.",
      "evidence": [
        "frontend-file-summaries.txt (frontend/src/pages/PublicLanding.tsx)"
      ]
    },
    {
      "description": "Admin reports page backend-dependent report listing/status updates.",
      "reason": "Admin moderation/reporting is listed as a non-goal; changes are not requested for Sleep Performance implementation.",
      "evidence": [
        "frontend-file-summaries.txt (frontend/src/pages/AdminReports.tsx)"
      ]
    },
    {
      "description": "Mission content and unlock rules updates unrelated to Sleep Performance (new missions demonstrating assessment unlock integration).",
      "reason": "BuildRequest does not request modifications to Missions/Modules content as part of adding the Sleep Performance pillar.",
      "evidence": [
        "frontend-file-summaries.txt (frontend/src/content/modules.ts, frontend/src/pages/Modules.tsx)"
      ]
    },
    {
      "description": "React Query hook restructuring for optional backend-dependent features.",
      "reason": "Not requested in BuildRequest; Sleep Performance requirements are frontend local/offline-first and do not require query layer refactors.",
      "evidence": [
        "frontend-file-summaries.txt (frontend/src/hooks/useQueries.ts)"
      ]
    },
    {
      "description": "Onboarding flow changes (local-only onboarding collecting display name, disclaimer/guidelines acceptance, etc.).",
      "reason": "Not requested by BuildRequest, which is specifically about adding a Sleep Performance pillar and its tools/flows.",
      "evidence": [
        "frontend-file-summaries.txt (frontend/src/components/onboarding/OnboardingFlow.tsx)"
      ]
    }
  ],
  "confidence": 0.62,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/App.tsx",
    "frontend/src/components/layout/AppShell.tsx",
    "frontend/src/content/sleepPerformanceCopy.ts",
    "frontend/src/hooks/useSleepPerformance.ts",
    "frontend/src/pages/SleepPerformanceAction.tsx",
    "frontend/src/pages/SleepPerformanceAnalysis.tsx",
    "frontend/src/pages/SleepPerformanceCheckIn.tsx",
    "frontend/src/pages/SleepPerformanceDashboard.tsx",
    "frontend/src/utils/localDataStore.ts",
    "frontend/src/utils/sleepPerformance.ts",
    "project_state.json"
  ]
}